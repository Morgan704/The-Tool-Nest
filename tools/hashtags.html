<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Hashtag Generator — Nest</title><link rel="stylesheet" href="../assets/styles.css"/></head>
<body>
  <div class="tool-wrap" style="max-width:880px;margin:80px auto">
    <a href="../index.html">← Home</a>
    <h1>Hashtag Generator</h1>
    <p class="kv">Enter topic or caption and pick platform; generate top hashtags (client-side heuristic).</p>

    <label class="kv">Topic or caption</label><input id="topic" class="input" placeholder="coffee shop, sunrise, marketing"/>
    <label class="kv">Number of hashtags</label><input id="count" class="input" type="number" value="10" min="1" max="30" />

    <div style="margin-top:8px"><button id="gen" class="btn btn-primary">Generate</button><button id="reset" class="btn btn-secondary">Reset</button></div>

    <div id="out" style="margin-top:12px;white-space:pre-wrap"></div>
    <div style="margin-top:8px"><button id="dl" class="btn btn-primary" style="display:none">Download .txt</button></div>
  </div>

<script>
const topic = document.getElementById('topic'), count = document.getElementById('count'), gen=document.getElementById('gen'), reset=document.getElementById('reset'), out=document.getElementById('out'), dl=document.getElementById('dl');

function slugify(s){ return s.toLowerCase().replace(/[^a-z0-9]+/g,'').slice(0,30); }

gen.addEventListener('click', ()=>{
  const t = topic.value.trim(); if(!t){ alert('Enter topic'); return; }
  const words = t.split(/[,\\s]+/).filter(Boolean);
  const c = Math.max(1, Math.min(30, parseInt(count.value||10,10)));
  const tags = new Set();
  // heuristics: combine words, prefix popular words
  const seeds = ['insta','photo','art','love','life','daily','photooftheday','now','best','trend'];
  words.forEach(w=>{ tags.add('#'+slugify(w)); tags.add('#'+slugify(w)+'life'); });
  seeds.forEach(s=>words.forEach(w=>tags.add('#'+s+slugify(w))));
  // fill with single seeds
  for(const s of seeds) tags.add('#'+s);
  const arr = Array.from(tags).slice(0,c);
  out.textContent = arr.join(' ');
  dl.style.display = 'inline-block';
  dl.onclick = ()=>{ const a = document.createElement('a'); a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(arr.join('\\n')); a.download = 'hashtags.txt'; a.click(); };
});

reset.addEventListener('click', ()=>{ topic.value=''; count.value='10'; out.textContent=''; dl.style.display='none'; });
</script>
</body></html>
